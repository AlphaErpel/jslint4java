How to do a release
===================

Prerequisites:

* Is NEWS.txt up to date?
* Ensure that all branches are up to date (git fetch origin).
** The release plugin does a plain "git push", which pushes all branches
   by default.  This will fail if any branch is behind.
* Is JAVA_HOME pointing at java 5?  We need to be compatible with Java
  5, not 6.

First, read your GPG passphrase into a variable.  Unfortunately, I can't
make the GPG plugin read from stdin during the release, so it has to be
done this way.

  $ read -s 'pw?Password: '

Next, run the release.  Use "rel-X.Y" as the tag.

  $ mvn -Dgpg.passphrase="$pw" release:prepare release:perform

Now, create the distribution.

  $ git checkout rel-1.3
  $ mvn -Pdist clean verify

With that done, upload jslint4java-dist/target/jslint4java-X.Y-dist.zip
to google code.

Create a source archive.

  $ bin/src-archive jslint4java-dist/target/jslint4java-X.Y-dist.zip

Upload the created source archive to google code.

Import the documentation to google code svn.

  $ bin/import-docs-to-googlecode jslint4java-dist/target/jslint4java-X.Y-dist.zip

Now, update google code:

* Add news to front page.
* Update docs links.
* Update javadocs links.
* Add new Milestone for the next release.

Send a mail to <jslint_com@yahoogroups.com> noting the new release.
